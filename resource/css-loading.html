<!DOCTYPE html>
<html lang="en-GB" class="noJS" itemscope itemtype="http://schema.org/Article">
<head>
<!-- This website is written by a guy who claims to have lots of specialised technical skills, but this website only partially demonstrates them.  This website is a vehicle for about 170,000 words, please read some of them. -->
<title>More media tricks for CSS</title>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="viewport" content="width=device-width, initial-scale=1 " />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en-GB" />
<meta name="Author" content="Owen Beresford" />
<meta name="Description" content="Notes on options for splitting CSS up away from minified monolith assets." />
<meta name="google-site-verification" content="lSgIe7Nm0H0RYQ2ktQ4vr5Jz0iYGhQd7cTWoVDg3Xss" />
<link href="/asset/favicon-32x32.png" rel="icon" type="image/png" />
<meta itemprop="name" content="More media tricks for CSS">
<meta itemprop="description" content="Notes on options for splitting CSS up away from minified monolith assets.">
<meta name="twitter:site" content="@channelOwen">
<meta name="twitter:title" content="More media tricks for CSS">
<meta name="twitter:description" content="Notes on options for splitting CSS up away from minified monolith assets.">
<meta name="twitter:creator" content="@channelOwen">
<meta property="og:title" content="More media tricks for CSS" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://owenberesford.me.uk/resource/css-loading" />
<meta property="og:description" content="Notes on options for splitting CSS up away from minified monolith assets." />
<meta property="og:site_name" content="OwenBeresford's very wordy site" />
<meta property="article:published_time" content="3rd of May 2023, 19:48:13" />
<meta property="article:modified_time" content="20th of Mar 2023" />
<link rel="canonical" href="https://owenberesford.me.uk/resource/css-loading" />
<!-- the below track is just a generic cheese track, but the style fits. progressive + uplifting tone.  I do not own the rights or anything. 
TODO: magic tune selection against some index/DB -->
<meta property="og:audio" content="https://www.youtube.com/watch?v=Brl7WmHDG-E" />

<link rel="stylesheet" href="/asset/ob1.min.css" />
<script type="application/ld+json">
  {
    "@context": "https://ogp.me/ns/article#",
    "@type": "Article",
    "name": "More media tricks for CSS",
	"article:published_time":"3rd of May 2023, 19:48:13", 
    "article:modified_time":"20th of Mar 2023",
    "article:section":"technology",

    "author": {
      "@type": "Person",
      "name": "Owen Beresford"
    }
  }
</script>
</head>
<body id="body" class="annoyingBody">
 <div class="h4_page wholeArticle">
  <div class="after_menu articleContent">
   <main id="main">
    <article>
     <div class="blocker">
<div class="fewWords">

<h3 class="dontend" id="toc0"> <a href="#toc0" title="Jump to this section." >Intro <sup><i class="fa fa-link invert" aria-label="Jump this to this section." aria-hidden="true"></i></sup> </a></h3>
<p>As most sites are using big CSS frameworks the amount of CSS downloaded is increasing.  Secondly as phone resolutions (and fixed media pixel density is also increasing) are increasing, old screen detection methods will fail.  It is convienant to be able to split the CSS blobs, so a mobile doesn't download desktop or tablet CSS.  Alternatively if you have no care about download volumes, this can also be used to have a mobile brand pack separate to a tablet brand pack or a big-screen brand pack. <br />
I'm writing this as I have been using webpack to manage CSS namespacing too much recently.</p>


<h3 class="dontend" id="toc1"> <a href="#toc1" title="Jump to this section." >Discussion  <sup><i class="fa fa-link invert" aria-label="Jump this to this section." aria-hidden="true"></i></sup> </a></h3>
<p>Please note that using media rules to change which CSS is active is abit over-engineered; as a better system is to use a flex-grid, as described <sup><a href="https://css-tricks.com/look-ma-no-media-queries-responsive-layouts-using-css-grid/" target="_blank">1</a></sup>. For any type of fluid design, this is likely to be better.   I frequently achieve this using Foundation CSS (other CSS frameworks should also work).   For changes that change content, media queries are still needed.<br />
For supporting browsers, just using CSS <sup><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@import" target="_blank">2</a></sup>, I could download an extra CSS file after I have detected the current screen size and orientation in CSS.  Probably; the first batch of CSS is statically present in the HTML file, so there is less iteration on parse more -&gt; download more; so the delay time to first user interaction is reduced (discussed here <sup><a href="https://thecontentworks.uk/css-import/" target="_blank">3</a></sup>, but avoiding download queues is important for page render speed).   Things that aren't likely to change often like <i>“prefers-reduce-data”</i> or <i>“dynamic-range”</i> Feature support is good <sup><a href="https://caniuse.com/?search=%40import" target="_blank">4</a></sup>.   This approach is managed using media queries.   For CSS to manage the users chosen means of access (mouse, keyboard, haptic etc), <i>media (hover:hover)</i> and related items <sup><a href="https://drafts.csswg.org/mediaqueries/#pointer" target="_blank">5</a></sup> seems smart <sup><a href="https://stackoverflow.com/a/45820289/2375161" target="_blank">6</a></sup> <sup><a href="https://ferie.medium.com/detect-a-touch-device-with-only-css-9f8e30fa1134" target="_blank">7</a></sup>.  Support for this last item is quite good <sup><a href="https://caniuse.com/?search=%2540media%20pointer" target="_blank">8</a></sup>.  Note that getting this correct is abit tricky, if you support a wide number of devices <sup><a href="https://css-tricks.com/interaction-media-features-and-their-potential-for-incorrect-assumptions/" target="_blank">9</a></sup>.<br />
If your only need is to detect device type (i.e. screen, print), or static properties of the webpage, attributes on link declaration is allowed <sup><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link" target="_blank">10</a></sup> <sup><a href="https://stackoverflow.com/questions/10036977/best-way-to-include-css-why-use-import" target="_blank">11</a></sup>.  Feature support is very common <sup><a href="https://caniuse.com/?search=link.media" target="_blank">12</a></sup>.  This version probably has shorter loading time.   As noted <sup><a href="https://stackoverflow.com/a/45155429/2375161" target="_blank">13</a></sup>, if you have any business need to support browsers released before 2008, @import will isolate them.   <br />
Also:<br />
Most of this can also be managed via JS as an alternative.  Pretty much all desktop browsers support window.mediaMatch <sup><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia" target="_blank">14</a></sup> <sup><a href="https://hacks.mozilla.org/2012/06/using-window-matchmedia-to-do-media-queries-in-javascript/" target="_blank">15</a></sup> which allows JS to run media selectors.  It is widely supported according to <sup><a href="https://caniuse.com/?search=window.matchMedia" target="_blank">16</a></sup>.</p>


</div>
</div>
    </article>
   </main>
	<div id="contentGroup" class="adjacentGroup" --data-group="images"> <p>Some similar articles in images </p><div id="groupimages" class="adjacentList"><span class="adjacentItem"><a class="button" href="/resource/group-XXX?first=images" title="This article lists all items in images group.">All of <br />images </a></span> </div> </div> 
  </div>
  <fieldset class="outer_menu articleHeader">
	<legend></legend>
	<nav>
		<div id="navBar" class="row">
			<div class="column">
				<div class="top-bar fullWidth">
					<header><h1>More media tricks for CSS</h1></header>
			    	<p role="status" class="bigScreenOnly">   </p>
				</div>
				<div id="shareGroup" class="bibbles row addReading">
					<span class="allButtons"> 
						<a id="siteChartLink" class="button smallScreenOnly" href="/resource/site-chart" title="open a webpage of what articles this site holds.">Sitemap</a>
						<a id="rssLink" href="https://owenberesford.me.uk/resource/rss" title="Access the sites RSS feed."> <i class="fa fa-rss" aria-label="Open the RSS for this site." aria-hidden="true"></i> </a> 
						<a class="button smallScreenOnly" id="shareMenuTrigger"> Share </a>
						<span class="bigScreenOnly">Share: </span>
						<a href="https://twitter.com/intent/tweet?text=I+think+this+is+important+https%3A%2F%2Fowenberesford.me.uk%2Fresource%2Fcss-loading" title="Share this resource on your twitter account." target="_blank" class="bigScreenOnly"> <i class="fa fa-twitter" aria-label="Share this resource on your twitter account." aria-hidden="true"></i></a>
						<a href="#" id="mastoTrigger" class="button masto bigScreenOnly" title="Share to *your* mastodon server"  >	<i class="fa fa-mastodon" aria-label="Share this resource on your mastodon account." aria-hidden="true"></i> </a>
						<a href="https://www.reddit.com/submit?url=https%3A%2F%2Fowenberesford.me.uk%2Fresource%2Fcss-loading" target="_blank" title="Share this article on reddit" class="bigScreenOnly" ><i aria-label="Share this article on reddit." class="fa fa-reddit-square" aria-hidden="true"></i></a>
						<a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fowenberesford.me.uk%2Fresource%2Fcss-loading" aria-label="share to linked-in" target="_blank" class="bigScreenOnly" title="Share this article on linked-in." ><i class="fa fa-linkedin-square" aria-hidden="true" aria-label="Share this article on linked-in."></i></a>
					</span>

					<span class="ultraSkinny bigScreenOnly"> 
						<span>Edited <time datetime="2023-03-20T21:53:40">20th of Mar 2023</time>
						</span>
						<span>Created <time datetime="2022-03-04T00:00:00" title="if the value says 03-03-2015; its wrong but that is when this project was moved to the current git project" >4th of Mar 2022</time> </span>
					</span>

				</div>
			</div>
			<dialog id="popup" class="popup1 bigScreenOnly">
				<form method="dialog" encoding="multipart/form-data" action="." name="mastoSelection"  >
					<label for="mastodonserver">your server: 
						<input id="mastodonserver" max-length="50" --data-url="https%3A%2F%2Fowenberesford.me.uk%2Fresource%2Fcss-loading" type="text" value="" placeholder="mastodon.social" />  
					</label> 
					<a id="sendMasto" class="button masto" href="#" title="Share article to *your* mastodon server">Share now</a>
					<a class="button trimmed" id="hideMasto" href="#" title="Close popup"> <i class="fa fa-cancel" aria-hidden="true"></i> </a>
				</form>
			</dialog>

<fieldset class="h4_menu column bigScreenOnly ">
<legend><a id="pageMenu"><i class="fa fa-ob1burger" aria-hidden="true"></i> </a></legend>
<menu class="h4_lean">
<li class="h4_odd"><a href="#toc0">Intro</a></li>
<li><a href="#toc1">Discussion</a></li>
</menu>
<br />

</fieldset>
	</div>
<menu class="burgerMenu" >
<li class="h4_odd">Additional features</li>
<li class=""><a href="/resource/home"><i class="fa fa-angle-left" aria-hidden="true"></i> Home</a> </li> 
<li class="h4_odd"><a href="/resource/search">Search <i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
<li class=""><a href="/resource/appearance">Appearance <i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
<li class="h4_odd"><a href="/resource/contact-me">Contact me <i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
<li class=""><a href="#contentGroup">Similar articles</a></li>
</menu>
	</nav>
</fieldset>
		</div>
 </div>
 <br class="blocker" />
 <div id="biblio"></div>
 <br class="blocker" />
 <footer>
  <div class="h4_footer"> 
	<div class="leftFooter"> 
		<a href="https://www.plainenglish.co.uk/services/webcheck.html" target="_blank" title="They, er, don't have a service for >190,000 word sites, so no logo.">Campaign for Plain English</a><br />
		My profile: <a href="https://www.linkedin.com/in/owen-beresford-bb6ab030/" target="_blank" aria-label="my linked-in" title="Load my linked-in profile" ><i style="font-size:200%; margin-bottom:0px;" class="fa fa-linkedin-square" aria-hidden="true" aria-label="Open my linked in profile" ></i></a>
	</div> 
	<p> Page rendered <time datetime="2023-05-03T19:48:13">3rd of May 2023, 19:48:13</time>, Copyright &copy; 2022 Owen Beresford, <a class="" href="https://owenberesford.me.uk/resource/contact-me#">contact me</a>.  Last modified <time datetime="2023-03-20T21:53:40">20th of Mar 2023</time>.
    <p>Read the generous <a rel="license" href="https://owenberesford.me.uk/resource/licence#" title="Load the license term; but not that interesting">licence terms</a>, if you feel the need, there is a <a href="https://owenberesford.me.uk/resource/privacy#" title="Load the privacy terms" >privacy here</a>.    View the <a href="https://owenberesford.me.uk/resource/site-chart#" title="Load a page showing all the articles on this site">site map</a>.  <a href="#pageMenu">Jump to menu</a>
</div>
</footer>
<script defer src="/asset/ob1.min.js" ></script>

</body>
</html>