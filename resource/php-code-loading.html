<!DOCTYPE html>
<html lang="en-GB" class="noJS" itemscope itemtype="http://schema.org/Article">
<head>
<!-- This website is written by a guy who claims to have lots of specialised technical skills, but this website only partially demonstrates them.  This website is a vehicle for about 170,000 words, please read some of them. -->
<title>History: code control and reuse</title>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="viewport" content="width=device-width, maximum-scale=1.0" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en-GB" />
<meta name="Generator" content="iceline webkit 2.1" />
<meta name="Author" content="Owen Beresford" />
<meta name="Description" content="What do you want to hire?  Software engineer OR web designer" />
<meta name="google-site-verification" content="lSgIe7Nm0H0RYQ2ktQ4vr5Jz0iYGhQd7cTWoVDg3Xss" />
<link href="/asset/favicon-32x32.png" rel="icon" type="image/png" />
<meta itemprop="name" content="History: code control and reuse">
<meta itemprop="description" content="What do you want to hire?  Software engineer OR web designer">
<!-- meta name="twitter:card" content="summary_large_image" -->
<meta name="twitter:site" content="@channelOwen">
<meta name="twitter:title" content="History: code control and reuse">
<meta name="twitter:description" content="What do you want to hire?  Software engineer OR web designer">
<meta name="twitter:creator" content="@channelOwen">
<meta property="og:title" content="History: code control and reuse" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://owenberesford.me.uk/resource/php-code-loading" />
<meta property="og:description" content="What do you want to hire?  Software engineer OR web designer" />
<meta property="og:site_name" content="OwenBeresford's very wordy site" />
<meta property="article:published_time" content="28th of Nov 2022, 20:51:09" />
<meta property="article:modified_time" content="28th of Nov 2022" />
<!-- the below track is just a generic cheese track, but the style fits. progressive + uplifting tone.  I do not own the rights or anything. 
TODO: magic tune selection against some index/DB -->
<meta property="og:audio" content="https://www.youtube.com/watch?v=Brl7WmHDG-E" />

<link rel="stylesheet" href="/asset/ob1.min.css" />
<script type="application/ld+json">
  {
    "@context": "https://ogp.me/ns/article#",
    "@type": "Article",
    "name": "History: code control and reuse",
	"article:published_time":"28th of Nov 2022, 20:51:09", 
    "article:modified_time":"28th of Nov 2022",
    "article:section":"technology",

    "author": {
      "@type": "Person",
      "name": "Owen Beresford"
    }
  }
</script>
</head>
<body id="body">
 <div class="h4_page wholeArticle">
  <div class="after_menu articleContent">
   <main id="main">
    <article>
     <div class="blocker">
<div class="lotsOfWords">
<p>This article is not a self-impressed article about parochialism.  I am reflecting on technology, originality, and the endless tribal boundaries.</p>

<p>My first large scale language was Java (i.e. projects that take months and when just code is more than a few hundred kilobytes).  As long as you limit to Java inside the JVM, this has good code management primitives.  This is a side-effect of being a static-type OO compiled language.  Java has namespaces, so its easier to manage and isolate.  Whilst I had less experience, this is my benchmark for all later design and architecture.</p>

<p>My first real job was to provide business systems inside PHP4.1, then quite quickly PHP4.2.  PHP is an ugly language.  Manual include() statements, the common mistake of including your page headers, and by side effect open a database connection; I think is brain damaged.  I did then.  At this point, I was a less accurate typist; and code reuse definitely saw a reduction in timescales, due to not needing to fix typos.   My earliest solution was to have a flat script that parsed arguments, had all the includes, and generally fork()-ed and bootstrapped.  If the script passed this point, you had a reasonable certainty that all necessary assets/ resources where available, so the service as viable.   I didn't write any websites for a long time.</p>

<p>More recent PHP code may use classloaders (and exceptions, access modifiers, closures, namespaces etc).  My more recent employers mention IP less often, and don't mind me using frameworks/ libraries.   My above text is boring tech history.  Class loading may be done lazily / dynamically ~ which is better for short-lived varied-execution-path activities; or statically in advance ~ massively better for anything to do with strict timing on execution, and very long lived processes.  For example, my above business systems ~ when I had a good grip on the technology ~ had a process lifespan to match the requirements iteration.  Classes may be mapped on service start up (which Java system classes do), or discovered by a rigid naming method (see ZF1 paragraph long class names).  There are also hybrid solutions, that avoid the excessive naming schemes, and the cost of building the maps.  I think the SF2 classloader and mapper is better than the old ZF2 one.   The SF2 mapper uses a combination of coder-specified object-creation definitions (called services.yml), and directory enumeration.  This combined list is written out to a classes.map and a custom class loader instantiates against this list.  The Yii framework <sup><a href="http://www.yiiframework.com/wiki/165/understanding-autoloading-helper-classes-and-helper-functions/" target="_blank">1</a></sup> uses a lazy loading, compound naming ~ which looks like a namespace; with optional mapping hints.  I think this is a function of being started before PHP5.3 was built. Ancestor code <sup><a href="http://framework.zend.com/manual/1.5/en/zend.loader.html" target="_blank">2</a></sup> ~ still used by some businesses ~ has been built without namespaces.  This is a link to an older version of ZF1 on purpose to avoid notes on autoloaders, that are available from PHP5.2 and above.  ZF1 started along time ago, for PHP4; and uses a complex class naming scheme as a consequence.  The classnames encode what directories the PHP file is in, but the PHP named after the last section of the class. A popular framework for e-commerce is Magento, which is ZF1 with extra bits, including a management GUI.  ZF1 where continuing to work against the older and less engineered code, so publish things <sup><a href="http://framework.zend.com/manual/1.12/en/performance.classloading.html" target="_blank">3</a></sup>.   ZF2 compiles all classes on process start <sup><a href="http://framework.zend.com/manual/current/en/modules/zend.loader.standard-autoloader.html" target="_blank">4</a></sup>, and is designed to work with php-cgi <sup><a href="https://wiki.apache.org/httpd/PHP-FPM" target="_blank">5</a></sup>.   ZF2 does ship with several autoloaders.  Other more-recent frameworks, Laravel <sup><a href="http://jonathanmh.com/php-mvc-the-laravel-framework/" target="_blank">6</a></sup> and Sylius <sup><a href="http://sylius.org/" target="_blank">7</a></sup> use SF2 components for classloading.  I have used CodeIgniter <sup><a href="http://www.codeigniter.com/" target="_blank">8</a></sup> for one project; the framework wants wide compatibility with old versions of PHP, and uses a custom loader <sup><a href="http://www.codeigniter.com/userguide2/general/autoloader.html" target="_blank">9</a></sup> ~ not SPL.  The popularity of current PHP frameworks is reported <sup><a href="http://www.sitepoint.com/best-php-framework-2015-sitepoint-survey-results/" target="_blank">10</a></sup> <sup><a href="http://beebom.com/2015/02/best-free-php-frameworks" target="_blank">11</a></sup>.</p>

<p>The recommended method for code loading is to use spl_autoload suite <sup><a href="https://www.php.net/manual/en/function.spl-autoload-register.php" target="_blank">12</a></sup>. This was added in 5.2, but became more useful in 5.3.  This is just a programmer controllable point to compile classes, similar to Perl.  When you write this class, it is recommended to do the directory mapping yourself, as it is faster that PHP repeatedly walking all the directories.</p>

<p>Back to PHP4: After a year (or so), I got enough control on my process to pitch more aggressively.   I want to avoid statically defining dependant classes.   This reduces reuse and makes testing harder.  I was still stuck to PHP4, so had no Interfaces.   I created a Manager class, have it create all the classes, hold the references, and hand these out.  Without Interfaces, IoC is too messy, but you can effect DI.  The Manager supplied objects, by name, not type.  A config defined the late-linking, and all the object names.   Every class has a standardised constructor, which takes a reference to the Manager, and the Config.  I write <i>reference</i> repeatedly, as I needed to manage the amount of RAM consumed (accidental copy of datacaches will lead to process death).   The Manager took about a day to test and write, and was used in all later points.</p>

<p>My first actual PHP5 project was a fast CMS.  I wanted to have public PHP5 code, and didn't think that just using an existing tool would count for anything.  By the time I had iterated down to less urgent features like class loaders, my host had updated to PHP5.2.   I built a static loader/linker, but dynamic config for this.  My class set was quite small so static just made it simpler.  This needed to interoperate with the class loading technology of my included libraries.</p>

<p>I write to defend the assertion that I am not climbing out of flat scripts making HTML table layouts, to procedural code, now grudgingly using objects.   I don't use Wordpress, or write about it, complete with hundreds of screengrabs.   There is nothing actually bad with Wordpress, but the culture surrounding it severely dumbs-down engineering.  The main Wordpress invites people to use a tarball.  This is my profession, I have spent thousands on study, and thousands of hours reading background material.   A different site by a different person would write about how to install things again.</p>


</div>
</div>
    </article>
   </main>
	<div id="contentGroup" class="adjacentGroup" --data-group="research"><a name="adjacent" href=""></a> <p>Some similar articles in research </p><div id="groupresearch" class="adjacentList"><span class="adjacentItem"><a class="button" href="/resource/group-XXX?first=research" title="This article lists all items in research group.">All of <br />research </a></span> </div> </div> 
  </div>
  <fieldset class="outer_menu articleHeader">
<legend></legend>
<nav>
<div id="tinyScreen" class="addReading">
<header>
<h1>History: code control and reuse</h1>
</header>
<a class="button" href="/resource/site-chart" title="open a webpage of what articles this site holds.">Sitemap</a> <a href="https://owenberesford.me.uk/resource/rss" title="Access the sites RSS feed. "><i class="fa fa-rss" aria-hidden="true" aria-label="Open the RSS for this site" ></i></a>
 Share: <a href="https://twitter.com/intent/tweet?text=I+think+this+is+important+https%3A%2F%2Fowenberesford.me.uk%2Fresource%2Fphp-code-loading" title="Share this resource on your twitter account." target="_blank"> <i class="fa fa-twitter" aria-hidden="true" aria-label="Share this article on twitter."></i></a> 
<a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fowenberesford.me.uk%2Fresource%2Fphp-code-loading" aria-label="share to linked-in" target="_blank" title="Share this article on linked-in" ><i class="fa fa-linkedin-square" aria-hidden="true" title="Share this article on linked-in" ></i></a>
<a href="http://www.reddit.com/submit?url=https%3A%2F%2Fowenberesford.me.uk%2Fresource%2Fphp-code-loading" target="_blank" title="Share this article on reddit." ><i class="fa fa-reddit-square" aria-hidden="true" aria-label="Share this article on reddit." ></i></a>
</div>
<div id="bigScreen" class="row">
<div class="h4_title column"><header><h1>History: code control and reuse</h1></header>


<p id="shareGroup" class="addReading"> 
	<span class="centerBlock">
	<a href="https://owenberesford.me.uk/resource/rss" title="Access the sites RSS feed."> <i class="fa fa-rss" aria-label="Open the RSS for this site." aria-hidden="true"></i> </a> Share: 
	<a href="https://twitter.com/intent/tweet?text=I+think+this+is+important+https%3A%2F%2Fowenberesford.me.uk%2Fresource%2Fphp-code-loading" title="Share this resource on your twitter account." target="_blank"> <i class="fa fa-twitter" aria-label="Share this resource on your twitter account." aria-hidden="true"></i></a> 
	<a href="http://www.reddit.com/submit?url=https%3A%2F%2Fowenberesford.me.uk%2Fresource%2Fphp-code-loading" target="_blank" title="Share this article on reddit" ><i aria-label="Share this article on reddit." class="fa fa-reddit-square" aria-hidden="true"></i></a>
	<a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fowenberesford.me.uk%2Fresource%2Fphp-code-loading" aria-label="share to linked-in" target="_blank" title="Share this article on linked-in." ><i class="fa fa-linkedin-square" aria-hidden="true" aria-label="Share this article on linked-in."></i></a>
&shy; Follow 
	</span>
	<a href="https://twitter.com/@publishowen" class="button" rel="me" title="In theory my publications list, if you prefer tweets." ><i class="fa fa-twitter" aria-hidden="true" aria-label="Look at my published list of articles" ></i>@publishowen</a>
<span class="ultraSkinny"> 
<span>Edited <time datetime="2022-11-28T17:59:10">28th of Nov 2022</time></span>
<span>Created <time datetime="2015-06-22T00:00:00" title="if the value says 03-03-2015; its wrong but that is when this project was moved to the current git project" >22nd of Jun 2015</time> </span>
</span>
</p></div>
<fieldset class="h4_menu column">
<legend><a id="pageMenu"><i class="fa fa-ob1burger" aria-hidden="true"></i> </a></legend>
<menu><ul class="h4_lean">
</ul>
</menu><br />

</fieldset>
</div>
<menu>
<ul class="burgerMenu" >
<li class="h4_odd">Additional features</li>
<li class=""><a href="/resource/home"><i class="fa fa-angle-left" aria-hidden="true"></i> Home</a> </li> 
<li class="h4_odd"><a href="/resource/search">Search <i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
<li class=""><a href="/resource/appearance">Appearance <i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
<li class="h4_odd"><a href="/resource/contact-me">Contact me <i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
<li class=""><a href="#adjacent">Similar articles</a></li>
</ul>
</menu>
</nav>
</fieldset>
 </div>
 <br class="blocker" />
 <div id="biblio"></div>
 <br class="blocker" />
 <footer>
  <div class="h4_footer"> <div class="leftFooter"><a aria-label="Validate CSS" href="http://jigsaw.w3.org/css-validator/check/referer"><img src="/asset/validCSS.png" alt="Valid CSS!" /></a> 
<a href="http://validator.w3.org/check?uri=referer" aria-label="Validate HTML"><img src="/asset/valid-xhtml10.png" alt="Valid XHTML 1.0 Transitional, unfortunately no HTML5 available" /></a></div>
<div class="leftFooter"> 
<a href="http://www.plainenglish.co.uk/services/webcheck.html" target="_blank" title="They, er, don't have a service for >170,000 word sites, so no logo.">Campaign for Plain English</a><br />
My profile: <a href="https://www.linkedin.com/in/owen-beresford-bb6ab030/" target="_blank" aria-label="my linked-in" title="Load my linked-in profile" ><i style="font-size:200%; margin-bottom:0px;" class="fa fa-linkedin-square" aria-hidden="true" aria-label="Open my linked in profile" ></i></a>
</div> Page rendered <time datetime="2022-11-28T20:51:09">28th of Nov 2022, 20:51:09</time>, Copyright &copy; 2022 Owen Beresford, <a class="" href="https://owenberesford.me.uk/resource/contact-me#">contact me</a>.  Last modified <time datetime="2022-11-28T17:59:10">28th of Nov 2022</time>. <br />

Read the generous <a rel="license" href="https://owenberesford.me.uk/resource/licence#" title="Load the license term; but not that interesting">licence terms</a>, if you feel the need, there is a <a href="https://owenberesford.me.uk/resource/privacy#" title="Load the privacy terms" >privacy here</a>.    View the <a href="https://owenberesford.me.uk/resource/site-chart#" title="Load a page showing all the articles on this site">site map</a>.  <a href="#pageMenu">Jump to menu</a>
</div>
</footer>
<script defer src="/asset/ob1.min.js" ></script>

</body>
</html>